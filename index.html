<html><head><base href="https://clickerdevelopment.com/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–º–∞—á–Ω–∏ –∫–ª–∏–∫–µ—Ä v2.2</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');

body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: 'Roboto', sans-serif;
    background-color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
}

.game-container {
    background-color: white;
    border-radius: 20px;
    padding: 30px;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    text-align: center;
    width: 90%;
    max-width: 400px;
}

h1 {
    margin-bottom: 20px;
    color: #333;
    font-size: 24px;
}

.stats {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    font-size: 18px;
    color: #666;
}

.progress-bar {
    width: 100%;
    height: 10px;
    background-color: #e0e0e0;
    border-radius: 5px;
    overflow: hidden;
    margin-bottom: 20px;
}

#progress {
    width: 0;
    height: 100%;
    background-color: #4CAF50;
    transition: width 0.3s ease-in-out;
}

.click-circle {
    width: 200px;
    height: 200px;
    background-color: #2196F3;
    border-radius: 50%;
    margin: 0 auto 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.1s, box-shadow 0.1s;
    user-select: none;
}

.click-circle:active {
    transform: scale(0.95);
    box-shadow: 0 0 10px rgba(33, 150, 243, 0.5);
}

.click-text {
    color: white;
    font-size: 24px;
    font-weight: bold;
}

#sell-button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
}

#sell-button:hover {
    background-color: #45a049;
}

.menu-button {
    position: fixed;
    top: 20px;
    left: 20px;
    background-color: #FF4081;
    color: white;
    border: none;
    padding: 10px;
    font-size: 20px;
    cursor: pointer;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.3s, transform 0.3s;
    z-index: 1000;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.menu-button:hover {
    background-color: #F50057;
    transform: scale(1.1);
}

.menu {
    position: fixed;
    top: 0;
    left: -300px;
    width: 300px;
    height: 100%;
    background-color: #2C3E50;
    transition: left 0.3s ease-in-out;
    overflow-y: auto;
    z-index: 1000;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
}

.menu.open {
    left: 0;
}

.menu-content {
    padding: 20px;
}

.menu-close {
    position: absolute;
    top: 10px;
    right: 10px;
    background: none;
    border: none;
    color: #ECF0F1;
    font-size: 24px;
    cursor: pointer;
    transition: color 0.3s;
}

.menu-close:hover {
    color: #FF4081;
}

.upgrade-section {
    margin-bottom: 20px;
}

.upgrade-section h3 {
    color: #ECF0F1;
    border-bottom: 2px solid #FF4081;
    padding-bottom: 5px;
    margin-bottom: 10px;
    font-size: 18px;
}

.upgrade-item {
    background-color: #34495E;
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.upgrade-item:hover {
    background-color: #445566;
    transform: translateY(-2px);
}

.upgrade-info {
    text-align: left;
}

.upgrade-name {
    font-weight: bold;
    color: #ECF0F1;
    font-size: 16px;
    margin-bottom: 5px;
}

.upgrade-cost {
    font-size: 0.9em;
    color: #BDC3C7;
}

.upgrade-effect {
    font-size: 0.8em;
    color: #95A5A6;
    margin-top: 5px;
}

.upgrade-icon {
    font-size: 24px;
    margin-left: 10px;
    color: #FF4081;
}

@keyframes pulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

.pulse {
    animation: pulse 0.5s ease-in-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.fade-in {
    animation: fadeIn 0.5s ease-in-out;
}

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #34495E;
}

::-webkit-scrollbar-thumb {
    background: #FF4081;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #F50057;
}

</style>
</head>
<body>
<div class="game-container fade-in">
    <h1>–°–º–∞—á–Ω—ã–π –∫–ª–∏–∫–µ—Ä v2.2</h1>
    <div class="stats">
        <span>–ö–ª–∏–∫–∏: <span id="clicks">28 / 50</span></span>
        <span>–ú–æ–Ω–µ—Ç—ã: <span id="coins">33</span></span>
    </div>
    <div class="progress-bar">
        <div id="progress"></div>
    </div>
    <div class="click-circle" id="click-button">
        <span class="click-text">–ö–ª–∏–∫!</span>
    </div>
    <button id="sell-button">–ü—Ä–æ–¥–∞—Ç—å –∫–ª–∏–∫–∏</button>
</div>

<button class="menu-button" id="menu-button">‚ò∞</button>
<div class="menu" id="menu">
    <div class="menu-content">
        <button class="menu-close" id="menu-close">&times;</button>
        <h2 style="color: #ECF0F1; text-align: center; margin-bottom: 20px;">–£–ª—É—á—à–µ–Ω–∏—è</h2>
        <div id="upgrades-list"></div>
    </div>
</div>

<script>
let clicks = 28;
let coins = 33;
let maxClicks = 50;
let clickValue = 1;
let coinMultiplier = 1;
let autoClickerInterval;
let autoSellInterval;
let activePotionEndTime = null;
let inventory = [];
let activePets = [];
let selectedPotion = null;
let canClick = true;
let clickDelay = 300; // 0.3 seconds delay

let upgrades = {
  clickers: [
    { name: "–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫", baseCost: 50, cost: 50, effect: "–£–¥–≤–∞–∏–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–ª–∏–∫–∞", purchased: false, oneTime: true, 
      action: () => { clickValue *= 2; }, icon: "üñ±Ô∏è" },
    { name: "–ë—ã—Å—Ç—Ä—ã–µ –ø–∞–ª—å—Ü—ã", baseCost: 150, cost: 150, effect: "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∫–ª–∏–∫–∞ –Ω–∞ 10%", purchased: 0, maxPurchases: 3, oneTime: false,
      action: () => { clickValue *= 1.1; }, icon: "üëÜ" },
    { name: "–ö–≤–∞–Ω—Ç–æ–≤—ã–π –∫–ª–∏–∫", baseCost: 25000, cost: 25000, effect: "–°–ª—É—á–∞–π–Ω—ã–π —à–∞–Ω—Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤", purchased: false, oneTime: true, icon: "‚öõÔ∏è" },
    { name: "–ú—É–ª—å—Ç–∏–∫–ª–∏–∫", baseCost: 5000, cost: 5000, effect: "10% —à–∞–Ω—Å —Å–¥–µ–ª–∞—Ç—å 5 –∫–ª–∏–∫–æ–≤ –∑–∞ –æ–¥–∏–Ω", purchased: false, oneTime: true, icon: "üîÑ" },
  ],
  automation: [
    { name: "–ê–≤—Ç–æ–∫–ª–∏–∫–µ—Ä", baseCost: 200, cost: 200, effect: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–ª–∏–∫–∞–µ—Ç –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É", purchased: false, oneTime: true, 
      action: () => { 
        if (!autoClickerInterval) {
          autoClickerInterval = setInterval(() => {
            if (clicks < maxClicks) {
              clicks += clickValue;
              updateDisplay();
            }
          }, 1000);
        }
      }, icon: "ü§ñ" },
    { name: "–¢—É—Ä–±–æ-–ø—Ä–æ–¥–∞–∂–∞", baseCost: 1200, cost: 1200, effect: "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–∞–µ—Ç –∫–ª–∏–∫–∏ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥", purchased: false, oneTime: true,
      action: () => {
        if (!autoSellInterval) {
          autoSellInterval = setInterval(() => {
            sellClicks();
          }, 5000);
        }
      }, icon: "üöÄ" },
  ],
  storage: [
    { name: "–°—É–ø–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–µ", baseCost: 1000, cost: 1000, effect: "–£–¥–≤–∞–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤", purchased: 0, maxPurchases: 3, oneTime: false,
      action: () => { maxClicks *= 2; }, icon: "üè¶" },
  ],
  economy: [
    { name: "–ó–æ–ª–æ—Ç–æ–π –∫–ª–∏–∫", baseCost: 500, cost: 500, effect: "10% —à–∞–Ω—Å –ø–æ–ª—É—á–∏—Ç—å –¥–≤–æ–π–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ", purchased: false, oneTime: true, icon: "üåü" },
    { name: "–ú–∞–≥–Ω–∏—Ç –¥–ª—è –º–æ–Ω–µ—Ç", baseCost: 300, cost: 300, effect: "5% –±–æ–Ω—É—Å –∫ –∑–∞—Ä–∞–±–æ—Ç–∫—É –º–æ–Ω–µ—Ç", purchased: 0, maxPurchases: 3, oneTime: false, icon: "üß≤" },
  ],
};

function updateDisplay() {
  document.getElementById('clicks').textContent = `${Math.floor(clicks)} / ${maxClicks}`;
  document.getElementById('coins').textContent = Math.floor(coins);
  const progress = (clicks / maxClicks) * 100;
  document.getElementById('progress').style.width = `${progress}%`;
}

function purchaseUpgrade(section, index) {
  const upgrade = upgrades[section][index];
  if (coins >= upgrade.cost) {
    coins -= upgrade.cost;
    if (upgrade.oneTime) {
      upgrade.purchased = true;
    } else {
      upgrade.purchased = (upgrade.purchased || 0) + 1;
      upgrade.cost = Math.ceil(upgrade.baseCost * Math.pow(1.15, upgrade.purchased));
    }
    if (upgrade.action) {
      upgrade.action();
    }
    updateDisplay();
    renderUpgrades();
    saveGame();
  }
}

function renderUpgrades() {
  const upgradesList = document.getElementById('upgrades-list');
  upgradesList.innerHTML = '';
  
  for (const [section, sectionUpgrades] of Object.entries(upgrades)) {
    const sectionElement = document.createElement('div');
    sectionElement.className = 'upgrade-section fade-in';
    sectionElement.innerHTML = `<h3>${section.charAt(0).toUpperCase() + section.slice(1)}</h3>`;
    
    sectionUpgrades.forEach((upgrade, index) => {
      const upgradeElement = document.createElement('div');
      upgradeElement.className = 'upgrade-item';
      if ((upgrade.purchased && upgrade.oneTime) || (upgrade.maxPurchases && upgrade.purchased >= upgrade.maxPurchases)) {
        upgradeElement.classList.add('purchased');
      }
      upgradeElement.innerHTML = `
        <div class="upgrade-info">
          <div class="upgrade-name">${upgrade.name}${typeof upgrade.purchased === 'number' ? ` (${upgrade.purchased}${upgrade.maxPurchases ? `/${upgrade.maxPurchases}` : ''})` : ''}</div>
          <div class="upgrade-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: ${upgrade.cost} –º–æ–Ω–µ—Ç</div>
          <div class="upgrade-effect">${upgrade.effect}</div>
        </div>
        <div class="upgrade-icon">${upgrade.icon}</div>
      `;
      if (!upgrade.purchased || (typeof upgrade.purchased === 'number' && upgrade.purchased < (upgrade.maxPurchases || Infinity))) {
        upgradeElement.addEventListener('click', () => purchaseUpgrade(section, index));
      }
      sectionElement.appendChild(upgradeElement);
    });
    
    upgradesList.appendChild(sectionElement);
  }
}

function sellClicks() {
  let coinsEarned = clicks * coinMultiplier;
  if (upgrades.economy[0].purchased && Math.random() < 0.1) {
    coinsEarned *= 2;
  }
  if (upgrades.economy[1].purchased) {
    coinsEarned *= Math.pow(1.05, upgrades.economy[1].purchased);
  }
  
  coins += coinsEarned;
  clicks = 0;
  updateDisplay();
}

function saveGame() {
  const gameData = {
    clicks,
    coins,
    maxClicks,
    clickValue,
    upgrades,
    inventory,
    activePets,
    activePotionEndTime,
    coinMultiplier
  };
  localStorage.setItem('clickerGame', JSON.stringify(gameData));
}

function loadGame() {
  const savedGame = localStorage.getItem('clickerGame');
  if (savedGame) {
    const gameData = JSON.parse(savedGame);
    clicks = gameData.clicks;
    coins = gameData.coins;
    maxClicks = gameData.maxClicks;
    clickValue = gameData.clickValue;
    upgrades = gameData.upgrades;
    inventory = gameData.inventory;
    activePets = gameData.activePets;
    activePotionEndTime = gameData.activePotionEndTime;
    coinMultiplier = gameData.coinMultiplier;
    
    if (upgrades.automation[0].purchased) {
      startAutoClicker();
    }
    if (upgrades.automation[1].purchased) {
      startAutoSell();
    }
  }
  updateDisplay();
  renderUpgrades();
}

function startAutoClicker() {
  if (!autoClickerInterval) {
    autoClickerInterval = setInterval(() => {
      if (clicks < maxClicks) {
        clicks += clickValue;
        updateDisplay();
      }
    }, 1000);
  }
}

function startAutoSell() {
  if (!autoSellInterval) {
    autoSellInterval = setInterval(sellClicks, 5000);
  }
}

document.getElementById('click-button').addEventListener('click', () => {
  if (canClick && clicks < maxClicks) {
    clicks += clickValue;
    document.getElementById('click-button').classList.add('pulse');
    setTimeout(() => {
      document.getElementById('click-button').classList.remove('pulse');
    }, 500);
    updateDisplay();
    
    canClick = false;
    document.getElementById('click-button').style.pointerEvents = 'none';
    setTimeout(() => {
      canClick = true;
      document.getElementById('click-button').style.pointerEvents = 'auto';
    }, clickDelay);
  }
});

document.getElementById('sell-button').addEventListener('click', sellClicks);

document.getElementById('menu-button').addEventListener('click', () => {
  document.getElementById('menu').classList.add('open');
});

document.getElementById('menu-close').addEventListener('click', () => {
  document.getElementById('menu').classList.remove('open');
});

// Initialize the game
document.addEventListener('DOMContentLoaded', () => {
  loadGame();
  setInterval(saveGame, 30000);
});
</script>
</body>
</html>
