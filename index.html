<html><head><base href="https://websim.io/games/clicker-evolution-v5/">
<title>Смачный Кликер</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap');

    body {
        font-family: 'Roboto', sans-serif;
        background-color: #f0f0f0;
        margin: 0;
        padding: 0;
        display: flex;
        height: 100vh;
        overflow: hidden;
    }

    .menu {
        background-color: #2c3e50;
        width: 15%;
        height: 100%;
        position: fixed;
        top: 0;
        left: -15%;
        transition: left 0.3s ease-in-out;
        box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
        z-index: 1000;
        color: #ecf0f1;
        padding-right: 15px;
    }

    .menu.open {
        left: 0;
    }

    .menu-toggle {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1001;
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px;
        font-size: 20px;
        cursor: pointer;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.3s ease;
    }

    .menu-toggle:hover {
        transform: rotate(90deg);
    }

    .menu-section {
        margin-bottom: 20px;
    }

    .menu-section-title {
        font-size: 1.2em;
        font-weight: bold;
        padding: 10px;
        background-color: #34495e;
        border-radius: 5px;
        margin-bottom: 10px;
    }

    .menu-item {
        padding: 10px;
        border-bottom: 1px solid #34495e;
        cursor: pointer;
        transition: background-color 0.2s, transform 0.2s;
    }

    .menu-item:hover {
        background-color: #34495e;
        transform: translateX(5px);
    }

    .menu-item-title {
        font-weight: bold;
        margin-bottom: 5px;
        font-size: 1em;
    }

    .menu-item-description {
        font-size: 0.8em;
        color: #bdc3c7;
    }

    .menu-item-cost {
        font-weight: bold;
        color: #2ecc71;
        margin-top: 5px;
    }

    .menu-item.purchased {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .rebirth-section {
        margin-top: 30px;
        padding-top: 20px;
        border-top: 2px solid #3498db;
    }

    .game-container {
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding-left: 60px;
    }

    .clicker-card {
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        padding: 30px;
        text-align: center;
        width: 350px;
    }

    .clicker-title {
        font-size: 28px;
        margin-bottom: 25px;
        color: #2c3e50;
    }

    .stats {
        display: flex;
        justify-content: space-between;
        margin-bottom: 25px;
        font-size: 18px;
        color: #34495e;
    }

    .click-button {
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 50%;
        width: 180px;
        height: 180px;
        font-size: 28px;
        cursor: pointer;
        transition: transform 0.1s, box-shadow 0.1s, background-color 0.3s;
        animation: pulse 2s infinite;
    }

    .click-button:hover {
        transform: scale(1.05);
        box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        background-color: #2980b9;
    }

    .click-button:active {
        transform: scale(0.95);
        background-color: #2980b9;
    }

    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 rgba(52, 152, 219, 0.7);
        }
        70% {
            box-shadow: 0 0 0 10px rgba(52, 152, 219, 0);
        }
        100% {
            box-shadow: 0 0 0 0 rgba(52, 152, 219, 0);
        }
    }

    .progress-bar {
        background-color: #ecf0f1;
        border-radius: 10px;
        height: 15px;
        margin-top: 25px;
        overflow: hidden;
        position: relative;
    }

    .progress {
        background-color: #2ecc71;
        height: 100%;
        width: 0%;
        transition: width 0.3s ease-in-out;
        position: relative;
    }

    .progress::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.1) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.1) 50%,
            rgba(255, 255, 255, 0.1) 75%,
            transparent 75%,
            transparent 100%
        );
        background-size: 30px 30px;
        animation: stripes 1s linear infinite;
    }

    @keyframes stripes {
        0% {
            background-position: 0 0;
        }
        100% {
            background-position: 30px 0;
        }
    }

    .sell-button {
        background-color: #2ecc71;
        color: white;
        border: none;
        border-radius: 25px;
        padding: 12px 25px;
        font-size: 18px;
        cursor: pointer;
        margin-top: 25px;
        transition: background-color 0.2s, transform 0.1s;
    }

    .sell-button:hover {
        background-color: #27ae60;
        transform: translateY(-2px);
    }

    .sell-button:active {
        transform: translateY(1px);
    }

    .rebirth-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0);
        transition: background-color 1s ease-in-out;
        pointer-events: none;
        z-index: 9999;
    }

    .rebirth-overlay.active {
        background-color: rgba(0, 0, 0, 1);
    }
</style>
</head>
<body>
<button class="menu-toggle" id="menuToggle">☰</button>

<div class="menu" id="menu">
    <div class="menu-section">
        <div class="menu-section-title">Базовые улучшения</div>
        <div class="menu-item" data-upgrade="autoClicker" data-cost="50">
            <div class="menu-item-title">Авто-кликер</div>
            <div class="menu-item-description">Автоматически кликает каждую секунду</div>
            <div class="menu-item-cost">Стоимость: 50 монет</div>
        </div>
        <div class="menu-item" data-upgrade="tripleClick" data-cost="150">
            <div class="menu-item-title">Тройной клик</div>
            <div class="menu-item-description">Каждый клик дает в три раза больше (одноразовое)</div>
            <div class="menu-item-cost">Стоимость: 150 монет</div>
        </div>
        <div class="menu-item" data-upgrade="luckyClover" data-cost="200">
            <div class="menu-item-title">Счастливый клевер</div>
            <div class="menu-item-description">5% шанс получить бонусный клик</div>
            <div class="menu-item-cost">Стоимость: 200 монет</div>
        </div>
    </div>

    <div class="menu-section">
        <div class="menu-section-title">Продвинутые улучшения</div>
        <div class="menu-item" data-upgrade="goldenTouch" data-cost="500">
            <div class="menu-item-title">Золотое прикосновение</div>
            <div class="menu-item-description">1% шанс получить золотой клик (x10)</div>
            <div class="menu-item-cost">Стоимость: 500 монет</div>
        </div>
        <div class="menu-item" data-upgrade="timeDilation" data-cost="1000">
            <div class="menu-item-title">Растяжение времени</div>
            <div class="menu-item-description">Увеличивает время между автоматическими продажами на 10%</div>
            <div class="menu-item-cost">Стоимость: 1000 монет</div>
        </div>
        <div class="menu-item" data-upgrade="quantumTunnel" data-cost="2000">
            <div class="menu-item-title">Квантовый туннель</div>
            <div class="menu-item-description">Позволяет превысить лимит рюкзака на 20%</div>
            <div class="menu-item-cost">Стоимость: 2000 монет</div>
        </div>
    </div>

    <div class="menu-section rebirth-section">
        <div class="menu-section-title">Перерождение</div>
        <div class="menu-item" data-upgrade="rebirth" data-cost="100">
            <div class="menu-item-title">Перерождение</div>
            <div class="menu-item-description">Сбрасывание всей статистики, но взамен буст x2 на клики </div>
            <div class="menu-item-cost">Стоимость: 5000 монет</div>
        </div>
    </div>
</div>

<div class="game-container">
    <div class="clicker-card">
        <h2 class="clicker-title">Смачный Кликер v2</h2>
        <div class="stats">
            <span>Клики: <span id="clicks">0</span> / <span id="maxClicks">50</span></span>
            <span>Монеты: <span id="coins">0</span></span>
        </div>
        <button class="click-button" id="clickButton">Клик!</button>
        <div class="progress-bar">
            <div class="progress" id="clickProgress"></div>
        </div>
        <button class="sell-button" id="sellButton">Продать клики</button>
    </div>
</div>

<div class="rebirth-overlay" id="rebirthOverlay"></div>

<script>
    let clicks = 0;
    let coins = 0;
    let maxClicks = 10;
    let clickValue = 1;
    let autoClickerInterval = null;
    let rebirthMultiplier = 1;
    let rebirthCost = 5000;
    let clickCooldown = false;
    let purchasedUpgrades = new Set();

    const clicksElement = document.getElementById('clicks');
    const maxClicksElement = document.getElementById('maxClicks');
    const coinsElement = document.getElementById('coins');
    const clickButton = document.getElementById('clickButton');
    const sellButton = document.getElementById('sellButton');
    const clickProgress = document.getElementById('clickProgress');
    const menuToggle = document.getElementById('menuToggle');
    const menu = document.getElementById('menu');
    const rebirthOverlay = document.getElementById('rebirthOverlay');

    function updateDisplay() {
        clicksElement.textContent = clicks;
        maxClicksElement.textContent = maxClicks;
        coinsElement.textContent = coins;
        clickProgress.style.width = `${(clicks / maxClicks) * 100}%`;
    }

    function addClicks(amount) {
        clicks = Math.min(clicks + amount, maxClicks);
        updateDisplay();
    }

    function sellClicks() {
        coins += clicks * rebirthMultiplier;
        clicks = 0;
        updateDisplay();
    }

    clickButton.addEventListener('click', () => {
        if (!clickCooldown) {
            clickCooldown = true;
            addClicks(clickValue);
            setTimeout(() => {
                clickCooldown = false;
            }, 400);
        }
    });

    sellButton.addEventListener('click', sellClicks);

    menuToggle.addEventListener('click', () => {
        menu.classList.toggle('open');
    });

    document.querySelectorAll('.menu-item').forEach(item => {
        item.addEventListener('click', () => {
            const upgrade = item.dataset.upgrade;
            const cost = parseInt(item.dataset.cost);

            if (coins >= cost && !purchasedUpgrades.has(upgrade)) {
                coins -= cost;
                applyUpgrade(upgrade);
                updateDisplay();
                if (upgrade === 'rebirth') {
                    item.dataset.cost = rebirthCost;
                    item.querySelector('.menu-item-cost').textContent = `Стоимость: ${rebirthCost} монет`;
                } else if (upgrade === 'tripleClick') {
                    item.classList.add('purchased');
                    purchasedUpgrades.add(upgrade);
                }
            } else if (purchasedUpgrades.has(upgrade)) {
                alert('Это улучшение уже куплено!');
            } else {
                alert('Недостаточно монет!');
            }
        });
    });

    function applyUpgrade(upgrade) {
        switch (upgrade) {
            case 'autoClicker':
                if (!autoClickerInterval) {
                    autoClickerInterval = setInterval(() => addClicks(1), 1000);
                }
                break;
            case 'tripleClick':
                clickValue *= 3;
                break;
            case 'luckyClover':
                clickButton.addEventListener('click', () => {
                    if (Math.random() < 0.05) addClicks(1);
                });
                break;
            case 'goldenTouch':
                clickButton.addEventListener('click', () => {
                    if (Math.random() < 0.01) addClicks(10);
                });
                break;
            case 'timeDilation':
                maxClicks = Math.floor(maxClicks * 1.1);
                break;
            case 'quantumTunnel':
                maxClicks = Math.floor(maxClicks * 1.2);
                break;
            case 'rebirth':
                performRebirth();
                break;
        }
    }

    function performRebirth() {
        rebirthOverlay.classList.add('active');
        setTimeout(() => {
            rebirthMultiplier *= 2;
            clicks = 0;
            coins = 0;
            maxClicks = 10;
            clickValue = 1;
            clearInterval(autoClickerInterval);
            autoClickerInterval = null;
            rebirthCost *= 3;
            purchasedUpgrades.clear();
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('purchased');
            });
            updateDisplay();
            setTimeout(() => {
                rebirthOverlay.classList.remove('active');
            }, 1000);
        }, 1000);
    }

    updateDisplay();
</script>
</body>
</html>
