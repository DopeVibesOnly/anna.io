<html><head><base href="https://websim.io/sols-rng-game/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>понос</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&family=Montserrat:wght@400;700&family=Poppins:wght@400;600&family=Lato:wght@400;700&display=swap" rel="stylesheet">
<style>
@keyframes gradient {
    0% {background-position: 0% 50%;}
    50% {background-position: 100% 50%;}
    100% {background-position: 0% 50%;}
}

@keyframes float {
    0% {transform: translateY(0px);}
    50% {transform: translateY(-20px);}
    100% {transform: translateY(0px);}
}

@keyframes pulse {
    0% {transform: scale(1);}
    50% {transform: scale(1.05);}
    100% {transform: scale(1);}
}

@keyframes slideIn {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideOut {
    0% {
        transform: translateY(0);
        opacity: 1;
    }
    100% {
        transform: translateY(100%);
        opacity: 0;
    }
}

@keyframes glowPulse {
    0% {
        box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
    }
    50% {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    }
    100% {
        box-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
    }
}

body {
    font-family: 'Roboto', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    background: white;
    color: #333;
    overflow-x: hidden;
}

.game-container {
    text-align: center;
    background: linear-gradient(45deg, #f3f4f6, #ddd);
    background-size: 200% 200%;
    animation: gradient 15s ease infinite;
    padding: 40px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    max-width: 90%;
    width: 400px;
    transition: all 0.3s ease;
}

.game-container:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
}

h1 {
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 2.5em;
    margin-bottom: 30px;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    animation: float 6s ease-in-out infinite;
}

button {
    font-family: 'Poppins', sans-serif;
    font-size: 18px;
    padding: 12px 24px;
    margin: 10px;
    cursor: pointer;
    background: linear-gradient(45deg, #4CAF50, #45a049);
    color: white;
    border: none;
    border-radius: 50px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    position: relative;
    overflow: hidden;
}

button:before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: rgba(255,255,255,0.1);
    transform: rotate(45deg);
    transition: all 0.3s ease;
}

button:hover:before {
    left: 100%;
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 8px rgba(0,0,0,0.15);
}

button:disabled {
    background: linear-gradient(45deg, #cccccc, #bbbbbb);
    cursor: not-allowed;
}

#overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    perspective: 1000px;
}

#aura-display {
    font-size: 32px;
    font-weight: bold;
    text-align: center;
    padding: 20px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    max-width: 80%;
    transition: all 0.5s ease;
    position: absolute;
    animation: glowPulse 2s infinite;
}

#result-container {
    margin-top: 30px;
    font-size: 24px;
    font-weight: 300;
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
    color: #2c3e50;
}

.inventory-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(255,255,255,0.9);
}

.inventory-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    margin: 10% auto;
    padding: 30px;
    border-radius: 15px;
    width: 80%;
    max-width: 600px;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    color: #333;
    animation: float 6s ease-in-out infinite;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s ease;
}

.close:hover,
.close:focus {
    color: #333;
}

.inventory-item {
    display: inline-block;
    margin: 8px;
    padding: 10px 15px;
    border-radius: 25px;
    cursor: pointer;
    font-family: 'Lato', sans-serif;
    font-weight: 700;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.inventory-item:hover {
    transform: translateY(-2px) rotate(3deg);
    box-shadow: 0 6px 8px rgba(0,0,0,0.15);
}

.delete-mode .inventory-item {
    opacity: 0.7;
}

.delete-mode .inventory-item.selected {
    opacity: 1;
    box-shadow: 0 0 0 3px #ff0000;
    animation: pulse 1s infinite;
}

.confirmation-modal {
    display: none;
    position: fixed;
    z-index: 2;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(255,255,255,0.9);
}

.confirmation-content {
    background: linear-gradient(135deg, #FF9A8B 0%, #FF6A88 55%, #FF99AC 100%);
    margin: 15% auto;
    padding: 30px;
    border-radius: 15px;
    width: 300px;
    text-align: center;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    color: white;
    animation: float 4s ease-in-out infinite;
}

.confirmation-content button {
    margin: 10px;
    padding: 10px 20px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    transition: all 0.3s ease;
}

.confirmation-content button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

#confirm-delete {
    background: linear-gradient(45deg, #4CAF50, #45a049);
    color: white;
}

#cancel-delete {
    background: linear-gradient(45deg, #f44336, #d32f2f);
    color: white;
}

</style>
</head>
<body>
    <div class="game-container">
        <h1>смачный рнг</h1>
        <button id="roll-button">Крутить</button>
        <button id="inventory-button">Инвентарь</button>
        <div id="result-container"></div>
    </div>

    <div id="overlay">
        <div id="aura-display"></div>
    </div>

    <div id="inventory-modal" class="inventory-modal">
        <div class="inventory-content">
            <span class="close">&times;</span>
            <h2>Инвентарь</h2>
            <div id="inventory-items"></div>
            <button id="delete-button">Удалить выбранные</button>
        </div>
    </div>

    <div id="confirmation-modal" class="confirmation-modal">
        <div class="confirmation-content">
            <h2>Подтверждение</h2>
            <p>Вы уверены, что хотите удалить выбранные предметы?</p>
            <button id="confirm-delete">Да</button>
            <button id="cancel-delete">Нет</button>
        </div>
    </div>

<script>
const auras = [
    { name: "Огненная вспышка", color: "#ff4136", chance: 1/2, font: "Roboto" },
    { name: "Ледяной бриз", color: "#7fdbff", chance: 1/5, font: "Montserrat" },
    { name: "Земляной щит", color: "#3d9970", chance: 1/15, font: "Poppins" },
    { name: "Воздушный вихрь", color: "#aaaaaa", chance: 1/69, font: "Lato" },
    { name: "Электрический разряд", color: "#ffdc00", chance: 1/500, font: "Roboto" },
    { name: "Теневое покрывало", color: "#333333", chance: 1/999, font: "Montserrat" },
    { name: "Световая аура", color: "#ffff99", chance: 1/3000, font: "Poppins" },
    { name: "Космическая пыль", color: "#b10dc9", chance: 1/5555, font: "Lato" },
    { name: "Временной разлом", color: "#01ff70", chance: 1/9999, font: "Roboto" },
    { name: "Звёздный ветер", color: "#f012be", chance: 1/40000, font: "Montserrat" },
    { name: "Вселенская гармония", color: "#39cccc", chance: 1/99999, font: "Poppins" }
];

const rollButton = document.getElementById('roll-button');
const inventoryButton = document.getElementById('inventory-button');
const resultContainer = document.getElementById('result-container');
const overlay = document.getElementById('overlay');
const auraDisplay = document.getElementById('aura-display');
const inventoryModal = document.getElementById('inventory-modal');
const closeInventory = document.querySelector('.close');
const inventoryItems = document.getElementById('inventory-items');
const deleteButton = document.getElementById('delete-button');
const confirmationModal = document.getElementById('confirmation-modal');
const confirmDelete = document.getElementById('confirm-delete');
const cancelDelete = document.getElementById('cancel-delete');

let isRolling = false;
let inventory = JSON.parse(localStorage.getItem('inventory')) || [];
let isDeleteMode = false;
let selectedItems = [];

function getRandomAura() {
    const random = Math.random();
    let cumulativeChance = 0;
    for (const aura of auras) {
        cumulativeChance += aura.chance;
        if (random <= cumulativeChance) {
            return aura;
        }
    }
    return auras[auras.length - 1];
}

function roll() {
    if (isRolling) return;
    isRolling = true;
    rollButton.disabled = true;
    resultContainer.style.opacity = '0';
    overlay.style.display = 'flex';

    const result = getRandomAura();
    let displayCount = 0;

    function displayNextAura() {
        if (displayCount < 20) {
            const randomAura = auras[Math.floor(Math.random() * auras.length)];
            displayAura(randomAura, displayCount + 1);
            displayCount++;
            setTimeout(displayNextAura, 100);
        } else {
            setTimeout(() => {
                displayAura(result, 21);
                finishRoll(result);
            }, 500);
        }
    }

    displayNextAura();
}

function displayAura(aura, count) {
    auraDisplay.style.color = aura.color;
    auraDisplay.style.fontFamily = aura.font;
    auraDisplay.textContent = `${aura.name}`;
    auraDisplay.style.animation = 'none';
    void auraDisplay.offsetWidth; // Trigger reflow
    auraDisplay.style.animation = count % 2 === 0 ? 'slideIn 0.2s ease-out' : 'slideOut 0.2s ease-in';
    
    // Add 3D rotation effect
    const rotationAmount = Math.random() * 20 - 10; // Random rotation between -10 and 10 degrees
    auraDisplay.style.transform = `rotateX(${rotationAmount}deg)`;
}

function finishRoll(result) {
    setTimeout(() => {
        overlay.style.display = 'none';
        resultContainer.textContent = `Вы получили: ${result.name}`;
        resultContainer.style.opacity = '1';
        resultContainer.style.animation = 'pulse 1s ease-in-out';
        rollButton.disabled = false;
        isRolling = false;
        addToInventory(result);
    }, 1500);
}

function addToInventory(aura) {
    inventory.push(aura);
    localStorage.setItem('inventory', JSON.stringify(inventory));
    updateInventory();
}

function updateInventory() {
    inventoryItems.innerHTML = '';
    inventory.forEach((item, index) => {
        const itemElement = document.createElement('span');
        itemElement.textContent = item.name;
        itemElement.className = 'inventory-item';
        itemElement.style.backgroundColor = item.color;
        itemElement.style.color = getContrastColor(item.color);
        itemElement.dataset.index = index;
        itemElement.onclick = () => toggleItemSelection(itemElement);
        inventoryItems.appendChild(itemElement);
    });
}

function getContrastColor(hexcolor) {
    hexcolor = hexcolor.replace("#", "");
    var r = parseInt(hexcolor.substr(0,2),16);
    var g = parseInt(hexcolor.substr(2,2),16);
    var b = parseInt(hexcolor.substr(4,2),16);
    var yiq = ((r*299)+(g*587)+(b*114))/1000;
    return (yiq >= 128) ? 'black' : 'white';
}

function toggleDeleteMode() {
    isDeleteMode = !isDeleteMode;
    deleteButton.textContent = isDeleteMode ? 'Отменить удаление' : 'Удалить выбранные';
    inventoryItems.classList.toggle('delete-mode');
    selectedItems = [];
    updateInventory();
}

function toggleItemSelection(item) {
    if (!isDeleteMode) return;
    item.classList.toggle('selected');
    const index = selectedItems.indexOf(item.dataset.index);
    if (index > -1) {
        selectedItems.splice(index, 1);
    } else {
        selectedItems.push(item.dataset.index);
    }
}

function showConfirmationModal() {
    confirmationModal.style.display = 'block';
}

function hideConfirmationModal() {
    confirmationModal.style.display = 'none';
}

function deleteSelectedItems() {
    inventory = inventory.filter((_, index) => !selectedItems.includes(index.toString()));
    localStorage.setItem('inventory', JSON.stringify(inventory));
    hideConfirmationModal();
    toggleDeleteMode();
    updateInventory();
}

rollButton.addEventListener('click', roll);
inventoryButton.addEventListener('click', () => {
    inventoryModal.style.display = 'block';
});

closeInventory.addEventListener('click', () => {
    inventoryModal.style.display = 'none';
    if (isDeleteMode) toggleDeleteMode();
});

window.addEventListener('click', (event) => {
    if (event.target == inventoryModal) {
        inventoryModal.style.display = 'none';
        if (isDeleteMode) toggleDeleteMode();
    }
});

deleteButton.addEventListener('click', () => {
    if (isDeleteMode && selectedItems.length > 0) {
        showConfirmationModal();
    } else {
        toggleDeleteMode();
    }
});

confirmDelete.addEventListener('click', deleteSelectedItems);
cancelDelete.addEventListener('click', hideConfirmationModal);

updateInventory();
</script>
</body></html>
